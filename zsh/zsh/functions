#!/usr/bin/env zsh

#  $$$$$$$$\ $$\   $$\ $$\   $$\  $$$$$$\ $$$$$$$$\ $$$$$$\  $$$$$$\  $$\   $$\  $$$$$$\
#  $$  _____|$$ |  $$ |$$$\  $$ |$$  __$$\\__$$  __|\_$$  _|$$  __$$\ $$$\  $$ |$$  __$$\
#  $$ |      $$ |  $$ |$$$$\ $$ |$$ /  \__|  $$ |     $$ |  $$ /  $$ |$$$$\ $$ |$$ /  \__|
#  $$$$$\    $$ |  $$ |$$ $$\$$ |$$ |        $$ |     $$ |  $$ |  $$ |$$ $$\$$ |\$$$$$$\
#  $$  __|   $$ |  $$ |$$ \$$$$ |$$ |        $$ |     $$ |  $$ |  $$ |$$ \$$$$ | \____$$\
#  $$ |      $$ |  $$ |$$ |\$$$ |$$ |  $$\   $$ |     $$ |  $$ |  $$ |$$ |\$$$ |$$\   $$ |
#  $$ |      \$$$$$$  |$$ | \$$ |\$$$$$$  |  $$ |   $$$$$$\  $$$$$$  |$$ | \$$ |\$$$$$$  |
#  \__|       \______/ \__|  \__| \______/   \__|   \______| \______/ \__|  \__| \______/

# find shorthand
function f() {
    find . -name "$1"
}

# take this repo and copy it to somewhere else minus the .git stuff.
function gitexport(){
    mkdir -p "$1"
    git archive master | tar -x -C "$1"
}

# Streamlink functions
function slw() {
    streamlink -O "$1" best | tee "$2_$( date +%Y%m%d_%H%M%S ).ts" | vlc -
}

# Escape UTF-8 characters into their 3-byte format
function escape() {
    printf "\\\x%s" $(printf "$@" | xxd -p -c1 -u)
    echo # newline
}

# Switch DB enviroments
function sdb() {
    db_env=$1
    case ${db_env:u} in
        LOCAL)
            echo "Using Local DB instance"
            ln -sf $HOME/.config/nettracer/datasource.local.properties $HOME/.config/nettracer/datasource.properties
            ;;
        TESTING)
            echo "Using Testing DB instance"
            ln -sf $HOME/.config/nettracer/datasource.testing.properties $HOME/.config/nettracer/datasource.properties
            ;;
        TRAINING)
            echo "Using Training DB instance"
            ln -sf $HOME/.config/nettracer/datasource.training.properties $HOME/.config/nettracer/datasource.properties
            ;;
        QA3)
            echo "Using QA3 DB instance"
            ln -sf $HOME/.config/nettracer/datasource.qa3.properties $HOME/.config/nettracer/datasource.properties
            ;;
        *)
            echo "Using QA1 DB instance"
            ln -sf $HOME/.config/nettracer/datasource.qa1.properties $HOME/.config/nettracer/datasource.properties
            ;;
    esac
}